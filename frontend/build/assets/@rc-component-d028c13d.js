import{c as R,f as Wt,e as I,g as ge,h as Ot,i as zr,j as Wr,a as qt,_ as Gt,d as jt,b as me}from"./@babel-43e769cc.js";import{r as i,a as E}from"./react-52c5f799.js";import{T as un}from"./@ctrl-fb5a5473.js";import{c as ie}from"./classnames-5da7e38f.js";import{c as Ct,a as q,e as ln,u as sn,r as Nr,s as yt,d as Or,f as _e,i as gr,h as cn,j as wr,g as hr,k as qr,l as fn,m as vn,n as Gr,o as dn,p as Mr,q as Rr}from"./rc-util-49c06749.js";import{r as yr}from"./react-dom-723c0cb9.js";import"./react-is-e8e5dbb3.js";import{R as jr}from"./rc-resize-observer-c25fc38f.js";import{C as Ur}from"./rc-motion-6c938c71.js";var Qr=i.createContext(null),kr=[];function mn(r,e){var t=i.useState(function(){if(!Ct())return null;var m=document.createElement("div");return m}),n=R(t,1),a=n[0],o=i.useRef(!1),u=i.useContext(Qr),l=i.useState(kr),c=R(l,2),f=c[0],d=c[1],s=u||(o.current?void 0:function(m){d(function(C){var y=[m].concat(Wt(C));return y})});function h(){a.parentElement||document.body.appendChild(a),o.current=!0}function v(){var m;(m=a.parentElement)===null||m===void 0||m.removeChild(a),o.current=!1}return q(function(){return r?u?u(h):h():v(),v},[r]),q(function(){f.length&&(f.forEach(function(m){return m()}),d(kr))},[f]),[a,s]}function gn(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}var hn="rc-util-locker-".concat(Date.now()),xr=0;function Cn(r){var e=!!r,t=i.useState(function(){return xr+=1,"".concat(hn,"_").concat(xr)}),n=R(t,1),a=n[0];q(function(){if(e){var o=ln(document.body).width,u=gn();sn(`
html body {
  overflow-y: hidden;
  `.concat(u?"width: calc(100% - ".concat(o,"px);"):"",`
}`),a)}else Nr(a);return function(){Nr(a)}},[e,a])}var Pr=!1;function bn(r){return typeof r=="boolean"&&(Pr=r),Pr}var Dr=function(e){return e===!1?!1:!Ct()||!e?null:typeof e=="string"?document.querySelector(e):typeof e=="function"?e():e},Ut=i.forwardRef(function(r,e){var t=r.open,n=r.autoLock,a=r.getContainer;r.debug;var o=r.autoDestroy,u=o===void 0?!0:o,l=r.children,c=i.useState(t),f=R(c,2),d=f[0],s=f[1],h=d||t;i.useEffect(function(){(u||t)&&s(t)},[t,u]);var v=i.useState(function(){return Dr(a)}),m=R(v,2),C=m[0],y=m[1];i.useEffect(function(){var H=Dr(a);y(H??null)});var N=mn(h&&!C),g=R(N,2),w=g[0],k=g[1],x=C??w;Cn(n&&t&&Ct()&&(x===w||x===document.body));var $=null;if(l&&yt(l)&&e){var W=l;$=W.ref}var A=Or($,e);if(!h||!Ct()||C===void 0)return null;var L=x===!1||bn(),S=l;return e&&(S=i.cloneElement(l,{ref:A})),i.createElement(Qr.Provider,{value:k},L?S:yr.createPortal(S,x))}),_r=i.createContext(null);function Ir(r){return r?Array.isArray(r)?r:[r]:[]}function yn(r,e,t,n){return i.useMemo(function(){var a=Ir(t??e),o=Ir(n??e),u=new Set(a),l=new Set(o);return r&&(u.has("hover")&&(u.delete("hover"),u.add("click")),l.has("hover")&&(l.delete("hover"),l.add("click"))),[u,l]},[r,e,t,n])}function Sn(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],t=arguments.length>2?arguments[2]:void 0;return t?r[0]===e[0]:r[0]===e[0]&&r[1]===e[1]}function En(r,e,t,n){for(var a=t.points,o=Object.keys(r),u=0;u<o.length;u+=1){var l,c=o[u];if(Sn((l=r[c])===null||l===void 0?void 0:l.points,a,n))return"".concat(e,"-placement-").concat(c)}return""}function $r(r,e,t,n){return e||(t?{motionName:"".concat(r,"-").concat(t)}:n?{motionName:n}:null)}function St(r){return r.ownerDocument.defaultView}function Cr(r){for(var e=[],t=r==null?void 0:r.parentElement,n=["hidden","scroll","clip","auto"];t;){var a=St(t).getComputedStyle(t),o=a.overflowX,u=a.overflowY,l=a.overflow;[o,u,l].some(function(c){return n.includes(c)})&&e.push(t),t=t.parentElement}return e}function bt(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Number.isNaN(r)?e:r}function mt(r){return bt(parseFloat(r),0)}function Lr(r,e){var t=I({},r);return(e||[]).forEach(function(n){if(!(n instanceof HTMLBodyElement)){var a=St(n).getComputedStyle(n),o=a.overflow,u=a.overflowClipMargin,l=a.borderTopWidth,c=a.borderBottomWidth,f=a.borderLeftWidth,d=a.borderRightWidth,s=n.getBoundingClientRect(),h=n.offsetHeight,v=n.clientHeight,m=n.offsetWidth,C=n.clientWidth,y=mt(l),N=mt(c),g=mt(f),w=mt(d),k=bt(Math.round(s.width/m*1e3)/1e3),x=bt(Math.round(s.height/h*1e3)/1e3),$=(m-C-g-w)*k,W=(h-v-y-N)*x,A=y*x,L=N*x,S=g*k,H=w*k,P=0,V=0;if(o==="clip"){var ee=mt(u);P=ee*k,V=ee*x}var te=s.x+S-P,D=s.y+A-V,T=te+s.width+2*P-S-H-$,ue=D+s.height+2*V-A-L-W;t.left=Math.max(t.left,te),t.top=Math.max(t.top,D),t.right=Math.min(t.right,T),t.bottom=Math.min(t.bottom,ue)}}),t}function Tr(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t="".concat(e),n=t.match(/^(.*)\%$/);return n?r*(parseFloat(n[1])/100):parseFloat(t)}function pr(r,e){var t=e||[],n=R(t,2),a=n[0],o=n[1];return[Tr(r.width,a),Tr(r.height,o)]}function Ar(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return[r[0],r[1]]}function nt(r,e){var t=e[0],n=e[1],a,o;return t==="t"?o=r.y:t==="b"?o=r.y+r.height:o=r.y+r.height/2,n==="l"?a=r.x:n==="r"?a=r.x+r.width:a=r.x+r.width/2,{x:a,y:o}}function Be(r,e){var t={t:"b",b:"t",l:"r",r:"l"};return r.map(function(n,a){return a===e?t[n]||"c":n}).join("")}function Nn(r,e,t,n,a,o,u){var l=i.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:a[n]||{}}),c=R(l,2),f=c[0],d=c[1],s=i.useRef(0),h=i.useMemo(function(){return e?Cr(e):[]},[e]),v=i.useRef({}),m=function(){v.current={}};r||m();var C=_e(function(){if(e&&t&&r){let Y=function(et,Je){var tt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ce,rt=P.x+et,vt=P.y+Je,dt=rt+K,Vt=vt+le,sr=Math.max(rt,tt.left),cr=Math.max(vt,tt.top),fr=Math.min(dt,tt.right),vr=Math.min(Vt,tt.bottom);return Math.max(0,(fr-sr)*(vr-cr))},ft=function(){Te=P.y+z,Xe=Te+le,pe=P.x+O,Ae=pe+K};var g=e,w=g.style.left,k=g.style.top,x=g.style.right,$=g.style.bottom,W=g.ownerDocument,A=St(g),L=I(I({},a[n]),o);g.style.left="0",g.style.top="0",g.style.right="auto",g.style.bottom="auto";var S;if(Array.isArray(t))S={x:t[0],y:t[1],width:0,height:0};else{var H=t.getBoundingClientRect();S={x:H.x,y:H.y,width:H.width,height:H.height}}var P=g.getBoundingClientRect(),V=A.getComputedStyle(g),ee=V.width,te=V.height,D=W.documentElement,T=D.clientWidth,ue=D.clientHeight,Se=D.scrollWidth,G=D.scrollHeight,re=D.scrollTop,Ee=D.scrollLeft,le=P.height,K=P.width,Ne=S.height,j=S.width,Z={left:0,top:0,right:T,bottom:ue},he={left:-Ee,top:-re,right:Se-Ee,bottom:G-re},se=L.htmlRegion,Ie="visible",Me="visibleFirst";se!=="scroll"&&se!==Me&&(se=Ie);var Ce=se===Me,X=Lr(he,h),_=Lr(Z,h),ce=se===Ie?_:X,ne=Ce?_:ce;g.style.left="auto",g.style.top="auto",g.style.right="0",g.style.bottom="0";var fe=g.getBoundingClientRect();g.style.left=w,g.style.top=k,g.style.right=x,g.style.bottom=$;var be=bt(Math.round(K/parseFloat(ee)*1e3)/1e3),ye=bt(Math.round(le/parseFloat(te)*1e3)/1e3);if(be===0||ye===0||gr(t)&&!cn(t))return;var we=L.offset,Re=L.targetOffset,at=pr(P,we),ve=R(at,2),U=ve[0],ae=ve[1],Qt=pr(S,Re),Et=R(Qt,2),Jt=Et[0],Nt=Et[1];S.x-=Jt,S.y-=Nt;var $e=L.points||[],wt=R($e,2),Kt=wt[0],Ke=wt[1],Q=Ar(Ke),J=Ar(Kt),Mt=nt(S,Q),Rt=nt(P,J),Le=I({},L),O=Mt.x-Rt.x+U,z=Mt.y-Rt.y+ae,ke=Y(O,z),ze=Y(O,z,_),oe=nt(S,["t","l"]),kt=nt(P,["t","l"]),We=nt(S,["b","r"]),ot=nt(P,["b","r"]),Oe=L.overflow||{},xt=Oe.adjustX,xe=Oe.adjustY,Pt=Oe.shiftX,it=Oe.shiftY,Ze=function(Je){return typeof Je=="boolean"?Je:Je>=0},Te,Xe,pe,Ae;ft();var ut=Ze(xe),Dt=J[0]===Q[0];if(ut&&J[0]==="t"&&(Xe>ne.bottom||v.current.bt)){var He=z;Dt?He-=le-Ne:He=oe.y-ot.y-ae;var lt=Y(O,He),Zt=Y(O,He,_);lt>ke||lt===ke&&(!Ce||Zt>=ze)?(v.current.bt=!0,z=He,Le.points=[Be(J,0),Be(Q,0)]):v.current.bt=!1}if(ut&&J[0]==="b"&&(Te<ne.top||v.current.tb)){var Pe=z;Dt?Pe+=le-Ne:Pe=We.y-kt.y-ae;var _t=Y(O,Pe),de=Y(O,Pe,_);_t>ke||_t===ke&&(!Ce||de>=ze)?(v.current.tb=!0,z=Pe,Le.points=[Be(J,0),Be(Q,0)]):v.current.tb=!1}var It=Ze(xt),$t=J[1]===Q[1];if(It&&J[1]==="l"&&(Ae>ne.right||v.current.rl)){var qe=O;$t?qe-=K-j:qe=oe.x-ot.x-U;var Lt=Y(qe,z),Xt=Y(qe,z,_);Lt>ke||Lt===ke&&(!Ce||Xt>=ze)?(v.current.rl=!0,O=qe,Le.points=[Be(J,1),Be(Q,1)]):v.current.rl=!1}if(It&&J[1]==="r"&&(pe<ne.left||v.current.lr)){var Ge=O;$t?Ge+=K-j:Ge=We.x-kt.x-U;var Tt=Y(Ge,z),Yt=Y(Ge,z,_);Tt>ke||Tt===ke&&(!Ce||Yt>=ze)?(v.current.lr=!0,O=Ge,Le.points=[Be(J,1),Be(Q,1)]):v.current.lr=!1}ft();var je=Pt===!0?0:Pt;typeof je=="number"&&(pe<_.left&&(O-=pe-_.left,S.x+j<_.left+je&&(O+=S.x-_.left+j-je)),Ae>_.right&&(O-=Ae-_.right,S.x>_.right-je&&(O+=S.x-_.right+je)));var De=it===!0?0:it;typeof De=="number"&&(Te<_.top&&(z-=Te-_.top+ae,S.y+Ne<_.top+De&&(z+=S.y-_.top+Ne-De)),Xe>_.bottom&&(z-=Xe-_.bottom-ae,S.y>_.bottom-De&&(z+=S.y-_.bottom+De)));var Ue=P.x+O,Ve=Ue+K,st=P.y+z,er=st+le,pt=S.x,tr=pt+j,ct=S.y,rr=ct+Ne,nr=Math.max(Ue,pt),ar=Math.min(Ve,tr),At=(nr+ar)/2,or=At-Ue,ir=Math.max(st,ct),ur=Math.min(er,rr),lr=(ir+ur)/2,Ht=lr-st;u==null||u(e,Le);var Ye=fe.right-P.x-(O+P.width),Qe=fe.bottom-P.y-(z+P.height);d({ready:!0,offsetX:O/be,offsetY:z/ye,offsetR:Ye/be,offsetB:Qe/ye,arrowX:or/be,arrowY:Ht/ye,scaleX:be,scaleY:ye,align:Le})}}),y=function(){s.current+=1;var w=s.current;Promise.resolve().then(function(){s.current===w&&C()})},N=function(){d(function(w){return I(I({},w),{},{ready:!1})})};return q(N,[n]),q(function(){r||N()},[r]),[f.ready,f.offsetX,f.offsetY,f.offsetR,f.offsetB,f.arrowX,f.arrowY,f.scaleX,f.scaleY,f.align,y]}function wn(r,e,t,n){q(function(){if(r&&e&&t){let d=function(){n()};var a=e,o=t,u=Cr(a),l=Cr(o),c=St(o),f=new Set([c].concat(Wt(u),Wt(l)));return f.forEach(function(s){s.addEventListener("scroll",d,{passive:!0})}),c.addEventListener("resize",d,{passive:!0}),n(),function(){f.forEach(function(s){s.removeEventListener("scroll",d),c.removeEventListener("resize",d)})}}},[r,e,t])}function Mn(r,e,t,n,a,o,u,l){var c=i.useRef(r),f=i.useRef(!1);c.current!==r&&(f.current=!0,c.current=r),i.useEffect(function(){var d=wr(function(){f.current=!1});return function(){wr.cancel(d)}},[r]),i.useEffect(function(){if(e&&n&&(!a||o)){var d=function(){var $=!1,W=function(S){var H=S.target;$=u(H)},A=function(S){var H=S.target;!f.current&&c.current&&!$&&!u(H)&&l(!1)};return[W,A]},s=d(),h=R(s,2),v=h[0],m=h[1],C=d(),y=R(C,2),N=y[0],g=y[1],w=St(n);w.addEventListener("mousedown",v,!0),w.addEventListener("click",m,!0),w.addEventListener("contextmenu",m,!0);var k=hr(t);return k&&(k.addEventListener("mousedown",N,!0),k.addEventListener("click",g,!0),k.addEventListener("contextmenu",g,!0)),function(){w.removeEventListener("mousedown",v,!0),w.removeEventListener("click",m,!0),w.removeEventListener("contextmenu",m,!0),k&&(k.removeEventListener("mousedown",N,!0),k.removeEventListener("click",g,!0),k.removeEventListener("contextmenu",g,!0))}}},[e,t,n,a,o])}function Rn(r){var e=r.prefixCls,t=r.align,n=r.arrow,a=r.arrowPos,o=n||{},u=o.className,l=o.content,c=a.x,f=c===void 0?0:c,d=a.y,s=d===void 0?0:d,h=i.useRef();if(!t||!t.points)return null;var v={position:"absolute"};if(t.autoArrow!==!1){var m=t.points[0],C=t.points[1],y=m[0],N=m[1],g=C[0],w=C[1];y===g||!["t","b"].includes(y)?v.top=s:y==="t"?v.top=0:v.bottom=0,N===w||!["l","r"].includes(N)?v.left=f:N==="l"?v.left=0:v.right=0}return i.createElement("div",{ref:h,className:ie("".concat(e,"-arrow"),u),style:v},l)}function kn(r){var e=r.prefixCls,t=r.open,n=r.zIndex,a=r.mask,o=r.motion;return a?i.createElement(Ur,ge({},o,{motionAppear:!0,visible:t,removeOnLeave:!0}),function(u){var l=u.className;return i.createElement("div",{style:{zIndex:n},className:ie("".concat(e,"-mask"),l)})}):null}var xn=i.memo(function(r){var e=r.children;return e},function(r,e){return e.cache}),Pn=i.forwardRef(function(r,e){var t=r.popup,n=r.className,a=r.prefixCls,o=r.style,u=r.target,l=r.onVisibleChanged,c=r.open,f=r.keepDom,d=r.onClick,s=r.mask,h=r.arrow,v=r.arrowPos,m=r.align,C=r.motion,y=r.maskMotion,N=r.forceRender,g=r.getPopupContainer,w=r.autoDestroy,k=r.portal,x=r.zIndex,$=r.onMouseEnter,W=r.onMouseLeave,A=r.onPointerEnter,L=r.ready,S=r.offsetX,H=r.offsetY,P=r.offsetR,V=r.offsetB,ee=r.onAlign,te=r.onPrepare,D=r.stretch,T=r.targetWidth,ue=r.targetHeight,Se=typeof t=="function"?t():t,G=c||f,re=(g==null?void 0:g.length)>0,Ee=i.useState(!g||!re),le=R(Ee,2),K=le[0],Ne=le[1];if(q(function(){!K&&re&&u&&Ne(!0)},[K,re,u]),!K)return null;var j="auto",Z={left:"-1000vw",top:"-1000vh",right:j,bottom:j};if(L||!c){var he=m.points,se=m._experimental,Ie=se==null?void 0:se.dynamicInset,Me=Ie&&he[0][1]==="r",Ce=Ie&&he[0][0]==="b";Me?(Z.right=P,Z.left=j):(Z.left=S,Z.right=j),Ce?(Z.bottom=V,Z.top=j):(Z.top=H,Z.bottom=j)}var X={};return D&&(D.includes("height")&&ue?X.height=ue:D.includes("minHeight")&&ue&&(X.minHeight=ue),D.includes("width")&&T?X.width=T:D.includes("minWidth")&&T&&(X.minWidth=T)),c||(X.pointerEvents="none"),i.createElement(k,{open:N||G,getContainer:g&&function(){return g(u)},autoDestroy:w},i.createElement(kn,{prefixCls:a,open:c,zIndex:x,mask:s,motion:y}),i.createElement(jr,{onResize:ee,disabled:!c},function(_){return i.createElement(Ur,ge({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:N,leavedClassName:"".concat(a,"-hidden")},C,{onAppearPrepare:te,onEnterPrepare:te,visible:c,onVisibleChanged:function(ne){var fe;C==null||(fe=C.onVisibleChanged)===null||fe===void 0||fe.call(C,ne),l(ne)}}),function(ce,ne){var fe=ce.className,be=ce.style,ye=ie(a,fe,n);return i.createElement("div",{ref:qr(_,e,ne),className:ye,style:I(I(I(I({"--arrow-x":"".concat(v.x||0,"px"),"--arrow-y":"".concat(v.y||0,"px")},Z),X),be),{},{boxSizing:"border-box",zIndex:x},o),onMouseEnter:$,onMouseLeave:W,onPointerEnter:A,onClick:d},h&&i.createElement(Rn,{prefixCls:a,arrow:h,arrowPos:v,align:m}),i.createElement(xn,{cache:!c},Se))})}))}),Dn=i.forwardRef(function(r,e){var t=r.children,n=r.getTriggerDOMNode,a=yt(t),o=i.useCallback(function(l){fn(e,n?n(l):l)},[n]),u=Or(o,t.ref);return a?i.cloneElement(t,{ref:u}):t}),_n=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];function In(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ut,e=i.forwardRef(function(t,n){var a=t.prefixCls,o=a===void 0?"rc-trigger-popup":a,u=t.children,l=t.action,c=l===void 0?"hover":l,f=t.showAction,d=t.hideAction,s=t.popupVisible,h=t.defaultPopupVisible,v=t.onPopupVisibleChange,m=t.afterPopupVisibleChange,C=t.mouseEnterDelay,y=t.mouseLeaveDelay,N=y===void 0?.1:y,g=t.focusDelay,w=t.blurDelay,k=t.mask,x=t.maskClosable,$=x===void 0?!0:x,W=t.getPopupContainer,A=t.forceRender,L=t.autoDestroy,S=t.destroyPopupOnHide,H=t.popup,P=t.popupClassName,V=t.popupStyle,ee=t.popupPlacement,te=t.builtinPlacements,D=te===void 0?{}:te,T=t.popupAlign,ue=t.zIndex,Se=t.stretch,G=t.getPopupClassNameFromAlign,re=t.alignPoint,Ee=t.onPopupClick,le=t.onPopupAlign,K=t.arrow,Ne=t.popupMotion,j=t.maskMotion,Z=t.popupTransitionName,he=t.popupAnimation,se=t.maskTransitionName,Ie=t.maskAnimation,Me=t.className,Ce=t.getTriggerDOMNode,X=Ot(t,_n),_=L||S||!1,ce=i.useState(!1),ne=R(ce,2),fe=ne[0],be=ne[1];q(function(){be(vn())},[]);var ye=i.useRef({}),we=i.useContext(_r),Re=i.useMemo(function(){return{registerSubPopup:function(M,p){ye.current[M]=p,we==null||we.registerSubPopup(M,p)}}},[we]),at=Gr(),ve=i.useState(null),U=R(ve,2),ae=U[0],Qt=U[1],Et=_e(function(b){gr(b)&&ae!==b&&Qt(b),we==null||we.registerSubPopup(at,b)}),Jt=i.useState(null),Nt=R(Jt,2),$e=Nt[0],wt=Nt[1],Kt=_e(function(b){gr(b)&&$e!==b&&wt(b)}),Ke=i.Children.only(u),Q=(Ke==null?void 0:Ke.props)||{},J={},Mt=_e(function(b){var M,p,B=$e;return(B==null?void 0:B.contains(b))||((M=hr(B))===null||M===void 0?void 0:M.host)===b||b===B||(ae==null?void 0:ae.contains(b))||((p=hr(ae))===null||p===void 0?void 0:p.host)===b||b===ae||Object.values(ye.current).some(function(F){return(F==null?void 0:F.contains(b))||b===F})}),Rt=$r(o,Ne,he,Z),Le=$r(o,j,Ie,se),O=i.useState(h||!1),z=R(O,2),ke=z[0],ze=z[1],oe=s??ke,kt=_e(function(b){s===void 0&&ze(b)});q(function(){ze(s||!1)},[s]);var We=i.useRef(oe);We.current=oe;var ot=_e(function(b){yr.flushSync(function(){oe!==b&&(kt(b),v==null||v(b))})}),Oe=i.useRef(),xt=function(){clearTimeout(Oe.current)},xe=function(M){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;xt(),p===0?ot(M):Oe.current=setTimeout(function(){ot(M)},p*1e3)};i.useEffect(function(){return xt},[]);var Pt=i.useState(!1),it=R(Pt,2),Ze=it[0],Te=it[1];q(function(b){(!b||oe)&&Te(!0)},[oe]);var Xe=i.useState(null),pe=R(Xe,2),Ae=pe[0],ut=pe[1],Dt=i.useState([0,0]),He=R(Dt,2),lt=He[0],Zt=He[1],Pe=function(M){Zt([M.clientX,M.clientY])},_t=Nn(oe,ae,re?lt:$e,ee,D,T,le),de=R(_t,11),It=de[0],$t=de[1],qe=de[2],Lt=de[3],Xt=de[4],Ge=de[5],Tt=de[6],Yt=de[7],je=de[8],De=de[9],Ue=de[10],Ve=_e(function(){Ze||Ue()});wn(oe,$e,ae,Ve),q(function(){Ve()},[lt,ee]),q(function(){oe&&!(D!=null&&D[ee])&&Ve()},[JSON.stringify(T)]);var st=i.useMemo(function(){var b=En(D,o,De,re);return ie(b,G==null?void 0:G(De))},[De,G,D,o,re]);i.useImperativeHandle(n,function(){return{forceAlign:Ve}});var er=function(M){Te(!1),Ue(),m==null||m(M)},pt=function(){return new Promise(function(M){ut(function(){return M})})};q(function(){Ae&&(Ue(),Ae(),ut(null))},[Ae]);var tr=i.useState(0),ct=R(tr,2),rr=ct[0],nr=ct[1],ar=i.useState(0),At=R(ar,2),or=At[0],ir=At[1],ur=function(M,p){if(Ve(),Se){var B=p.getBoundingClientRect();nr(B.width),ir(B.height)}},lr=yn(fe,c,f,d),Ht=R(lr,2),Ye=Ht[0],Qe=Ht[1];function Y(b,M,p,B){J[b]=function(F){var Bt;B==null||B(F),xe(M,p);for(var dr=arguments.length,Er=new Array(dr>1?dr-1:0),Ft=1;Ft<dr;Ft++)Er[Ft-1]=arguments[Ft];(Bt=Q[b])===null||Bt===void 0||Bt.call.apply(Bt,[Q,F].concat(Er))}}var ft=Ye.has("click"),et=Qe.has("click")||Qe.has("contextMenu");(ft||et)&&(J.onClick=function(b){var M;We.current&&et?xe(!1):!We.current&&ft&&(Pe(b),xe(!0));for(var p=arguments.length,B=new Array(p>1?p-1:0),F=1;F<p;F++)B[F-1]=arguments[F];(M=Q.onClick)===null||M===void 0||M.call.apply(M,[Q,b].concat(B))}),Mn(oe,et,$e,ae,k,$,Mt,xe);var Je=Ye.has("hover"),tt=Qe.has("hover"),rt,vt;Je&&(Y("onMouseEnter",!0,C,function(b){Pe(b)}),Y("onPointerEnter",!0,C,function(b){Pe(b)}),rt=function(){(oe||Ze)&&xe(!0,C)},re&&(J.onMouseMove=function(b){var M;(M=Q.onMouseMove)===null||M===void 0||M.call(Q,b)})),tt&&(Y("onMouseLeave",!1,N),Y("onPointerLeave",!1,N),vt=function(){xe(!1,N)}),Ye.has("focus")&&Y("onFocus",!0,g),Qe.has("focus")&&Y("onBlur",!1,w),Ye.has("contextMenu")&&(J.onContextMenu=function(b){var M;We.current&&Qe.has("contextMenu")?xe(!1):(Pe(b),xe(!0)),b.preventDefault();for(var p=arguments.length,B=new Array(p>1?p-1:0),F=1;F<p;F++)B[F-1]=arguments[F];(M=Q.onContextMenu)===null||M===void 0||M.call.apply(M,[Q,b].concat(B))}),Me&&(J.className=ie(Q.className,Me));var dt=I(I({},Q),J),Vt={},sr=["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"];sr.forEach(function(b){X[b]&&(Vt[b]=function(){for(var M,p=arguments.length,B=new Array(p),F=0;F<p;F++)B[F]=arguments[F];(M=dt[b])===null||M===void 0||M.call.apply(M,[dt].concat(B)),X[b].apply(X,B)})});var cr=i.cloneElement(Ke,I(I({},dt),Vt)),fr={x:Ge,y:Tt},vr=K?I({},K!==!0?K:{}):null;return i.createElement(i.Fragment,null,i.createElement(jr,{disabled:!oe,ref:Kt,onResize:ur},i.createElement(Dn,{getTriggerDOMNode:Ce},cr)),i.createElement(_r.Provider,{value:Re},i.createElement(Pn,{portal:r,ref:Et,prefixCls:o,popup:H,className:ie(P,st),style:V,target:$e,onMouseEnter:rt,onMouseLeave:vt,onPointerEnter:rt,zIndex:ue,open:oe,keepDom:Ze,onClick:Ee,mask:k,motion:Rt,maskMotion:Le,onVisibleChanged:er,onPrepare:pt,forceRender:A,autoDestroy:_,getPopupContainer:W,align:De,arrow:vr,arrowPos:fr,ready:It,offsetX:$t,offsetY:qe,offsetR:Lt,offsetB:Xt,onAlign:Ve,stretch:Se,targetWidth:rr/Yt,targetHeight:or/je})))});return e}const $n=In(Ut);var Ln=["b"],Tn=["v"],mr=function(e){return Math.round(Number(e||0))},pn=function(e){if(e&&jt(e)==="object"&&"h"in e&&"b"in e){var t=e,n=t.b,a=Ot(t,Ln);return I(I({},a),{},{v:n})}return typeof e=="string"&&/hsb/.test(e)?e.replace(/hsb/,"hsv"):e},Hr=function(r){zr(t,r);var e=Wr(t);function t(n){return qt(this,t),e.call(this,pn(n))}return Gt(t,[{key:"toHsbString",value:function(){var a=this.toHsb(),o=mr(a.s*100),u=mr(a.b*100),l=mr(a.h),c=a.a,f="hsb(".concat(l,", ").concat(o,"%, ").concat(u,"%)"),d="hsba(".concat(l,", ").concat(o,"%, ").concat(u,"%, ").concat(c.toFixed(c===0?0:2),")");return c===1?f:d}},{key:"toHsb",value:function(){var a=this.toHsv();jt(this.originalInput)==="object"&&this.originalInput&&"h"in this.originalInput&&(a=this.originalInput);var o=a;o.v;var u=Ot(o,Tn);return I(I({},u),{},{b:a.v})}}]),t}(un),An="rc-color-picker",Fe=function(e){return e instanceof Hr?e:new Hr(e)},Hn=Fe("#1677ff"),Jr=function(e){var t=e.offset,n=e.targetRef,a=e.containerRef,o=e.color,u=e.type,l=a.current.getBoundingClientRect(),c=l.width,f=l.height,d=n.current.getBoundingClientRect(),s=d.width,h=d.height,v=s/2,m=h/2,C=(t.x+v)/c,y=1-(t.y+m)/f,N=o.toHsb(),g=C,w=(t.x+v)/c*360;if(u)switch(u){case"hue":return Fe(I(I({},N),{},{h:w<=0?0:w}));case"alpha":return Fe(I(I({},N),{},{a:g<=0?0:g}))}return Fe({h:N.h,s:C<=0?0:C,b:y>=1?1:y,a:N.a})},Kr=function(e,t,n,a){var o=e.current.getBoundingClientRect(),u=o.width,l=o.height,c=t.current.getBoundingClientRect(),f=c.width,d=c.height,s=f/2,h=d/2,v=n.toHsb();if(!(f===0&&d===0||f!==d)){if(a)switch(a){case"hue":return{x:v.h/360*u-s,y:-h/3};case"alpha":return{x:v.a/1*u-s,y:-h/3}}return{x:v.s*u-s,y:(1-v.b)*l-h}}},Vn=function(e){var t=e.color,n=e.prefixCls,a=e.className,o=e.style,u=e.onClick,l="".concat(n,"-color-block");return E.createElement("div",{className:ie(l,a),style:o,onClick:u},E.createElement("div",{className:"".concat(l,"-inner"),style:{background:t}}))};function Bn(r){var e="touches"in r?r.touches[0]:r,t=document.documentElement.scrollLeft||document.body.scrollLeft||window.pageXOffset,n=document.documentElement.scrollTop||document.body.scrollTop||window.pageYOffset;return{pageX:e.pageX-t,pageY:e.pageY-n}}function Zr(r){var e=r.offset,t=r.targetRef,n=r.containerRef,a=r.direction,o=r.onDragChange,u=r.onDragChangeComplete,l=r.calculate,c=r.color,f=r.disabledDrag,d=i.useState(e||{x:0,y:0}),s=R(d,2),h=s[0],v=s[1],m=i.useRef(null),C=i.useRef(null),y=i.useRef({flag:!1});i.useEffect(function(){if(y.current.flag===!1){var x=l==null?void 0:l(n);x&&v(x)}},[c,n]),i.useEffect(function(){return function(){document.removeEventListener("mousemove",m.current),document.removeEventListener("mouseup",C.current),document.removeEventListener("touchmove",m.current),document.removeEventListener("touchend",C.current),m.current=null,C.current=null}},[]);var N=function($){var W=Bn($),A=W.pageX,L=W.pageY,S=n.current.getBoundingClientRect(),H=S.x,P=S.y,V=S.width,ee=S.height,te=t.current.getBoundingClientRect(),D=te.width,T=te.height,ue=D/2,Se=T/2,G=Math.max(0,Math.min(A-H,V))-ue,re=Math.max(0,Math.min(L-P,ee))-Se,Ee={x:G,y:a==="x"?h.y:re};if(D===0&&T===0||D!==T)return!1;v(Ee),o==null||o(Ee)},g=function($){$.preventDefault(),N($)},w=function($){$.preventDefault(),y.current.flag=!1,document.removeEventListener("mousemove",m.current),document.removeEventListener("mouseup",C.current),document.removeEventListener("touchmove",m.current),document.removeEventListener("touchend",C.current),m.current=null,C.current=null,u==null||u()},k=function($){document.removeEventListener("mousemove",m.current),document.removeEventListener("mouseup",C.current),!f&&(N($),y.current.flag=!0,document.addEventListener("mousemove",g),document.addEventListener("mouseup",w),document.addEventListener("touchmove",g),document.addEventListener("touchend",w),m.current=g,C.current=w)};return[h,k]}var Xr=function(e){var t=e.size,n=t===void 0?"default":t,a=e.color,o=e.prefixCls;return E.createElement("div",{className:ie("".concat(o,"-handler"),me({},"".concat(o,"-handler-sm"),n==="small")),style:{backgroundColor:a}})},Yr=function(e){var t=e.children,n=e.style,a=e.prefixCls;return E.createElement("div",{className:"".concat(a,"-palette"),style:I({position:"relative"},n)},t)},en=i.forwardRef(function(r,e){var t=r.children,n=r.offset;return E.createElement("div",{ref:e,style:{position:"absolute",left:n.x,top:n.y,zIndex:1}},t)}),Fn=function(e){var t=e.color,n=e.onChange,a=e.prefixCls,o=e.onChangeComplete,u=e.disabled,l=i.useRef(),c=i.useRef(),f=i.useRef(t),d=Zr({color:t,containerRef:l,targetRef:c,calculate:function(C){return Kr(C,c,t)},onDragChange:function(C){var y=Jr({offset:C,targetRef:c,containerRef:l,color:t});f.current=y,n(y)},onDragChangeComplete:function(){return o==null?void 0:o(f.current)},disabledDrag:u}),s=R(d,2),h=s[0],v=s[1];return E.createElement("div",{ref:l,className:"".concat(a,"-select"),onMouseDown:v,onTouchStart:v},E.createElement(Yr,{prefixCls:a},E.createElement(en,{offset:h,ref:c},E.createElement(Xr,{color:t.toRgbString(),prefixCls:a})),E.createElement("div",{className:"".concat(a,"-saturation"),style:{backgroundColor:"hsl(".concat(t.toHsb().h,",100%, 50%)"),backgroundImage:"linear-gradient(0deg, #000, transparent),linear-gradient(90deg, #fff, hsla(0, 0%, 100%, 0))"}})))},zn=function(e){var t=e.colors,n=e.children,a=e.direction,o=a===void 0?"to right":a,u=e.type,l=e.prefixCls,c=i.useMemo(function(){return t.map(function(f,d){var s=Fe(f);return u==="alpha"&&d===t.length-1&&s.setAlpha(1),s.toRgbString()}).join(",")},[t,u]);return E.createElement("div",{className:"".concat(l,"-gradient"),style:{position:"absolute",inset:0,background:"linear-gradient(".concat(o,", ").concat(c,")")}},n)},Vr=function(e){var t=e.gradientColors,n=e.direction,a=e.type,o=a===void 0?"hue":a,u=e.color,l=e.value,c=e.onChange,f=e.onChangeComplete,d=e.disabled,s=e.prefixCls,h=i.useRef(),v=i.useRef(),m=i.useRef(u),C=Zr({color:u,targetRef:v,containerRef:h,calculate:function(k){return Kr(k,v,u,o)},onDragChange:function(k){var x=Jr({offset:k,targetRef:v,containerRef:h,color:u,type:o});m.current=x,c(x)},onDragChangeComplete:function(){f==null||f(m.current,o)},direction:"x",disabledDrag:d}),y=R(C,2),N=y[0],g=y[1];return E.createElement("div",{ref:h,className:ie("".concat(s,"-slider"),"".concat(s,"-slider-").concat(o)),onMouseDown:g,onTouchStart:g},E.createElement(Yr,{prefixCls:s},E.createElement(en,{offset:N,ref:v},E.createElement(Xr,{size:"small",color:l,prefixCls:s})),E.createElement(zn,{colors:t,direction:n,type:o,prefixCls:s})))};function Br(r){return r!==void 0}var Wn=function(e,t){var n=t.defaultValue,a=t.value,o=i.useState(function(){var f;return Br(a)?f=a:Br(n)?f=n:f=e,Fe(f)}),u=R(o,2),l=u[0],c=u[1];return i.useEffect(function(){a&&c(Fe(a))},[a]),[l,c]},On=["rgb(255, 0, 0) 0%","rgb(255, 255, 0) 17%","rgb(0, 255, 0) 33%","rgb(0, 255, 255) 50%","rgb(0, 0, 255) 67%","rgb(255, 0, 255) 83%","rgb(255, 0, 0) 100%"];const ga=i.forwardRef(function(r,e){var t=r.value,n=r.defaultValue,a=r.prefixCls,o=a===void 0?An:a,u=r.onChange,l=r.onChangeComplete,c=r.className,f=r.style,d=r.panelRender,s=r.disabledAlpha,h=s===void 0?!1:s,v=r.disabled,m=v===void 0?!1:v,C=Wn(Hn,{value:t,defaultValue:n}),y=R(C,2),N=y[0],g=y[1],w=i.useMemo(function(){var A=Fe(N.toRgbString());return A.setAlpha(1),A.toRgbString()},[N]),k=ie("".concat(o,"-panel"),c,me({},"".concat(o,"-panel-disabled"),m)),x={prefixCls:o,onChangeComplete:l,disabled:m},$=function(L,S){t||g(L),u==null||u(L,S)},W=E.createElement(E.Fragment,null,E.createElement(Fn,ge({color:N,onChange:$},x)),E.createElement("div",{className:"".concat(o,"-slider-container")},E.createElement("div",{className:ie("".concat(o,"-slider-group"),me({},"".concat(o,"-slider-group-disabled-alpha"),h))},E.createElement(Vr,ge({gradientColors:On,color:N,value:"hsl(".concat(N.toHsb().h,",100%, 50%)"),onChange:function(L){return $(L,"hue")}},x)),!h&&E.createElement(Vr,ge({type:"alpha",gradientColors:["rgba(255, 0, 4, 0) 0%",w],color:N,value:N.toRgbString(),onChange:function(L){return $(L,"alpha")}},x))),E.createElement(Vn,{color:N.toRgbString(),prefixCls:o})));return E.createElement("div",{className:k,style:f,ref:e},typeof d=="function"?d(W):W)});function br(){return typeof BigInt=="function"}function tn(r){return!r&&r!==0&&!Number.isNaN(r)||!String(r).trim()}function ht(r){var e=r.trim(),t=e.startsWith("-");t&&(e=e.slice(1)),e=e.replace(/(\.\d*[^0])0*$/,"$1").replace(/\.0*$/,"").replace(/^0+/,""),e.startsWith(".")&&(e="0".concat(e));var n=e||"0",a=n.split("."),o=a[0]||"0",u=a[1]||"0";o==="0"&&u==="0"&&(t=!1);var l=t?"-":"";return{negative:t,negativeStr:l,trimStr:n,integerStr:o,decimalStr:u,fullStr:"".concat(l).concat(n)}}function Sr(r){var e=String(r);return!Number.isNaN(Number(e))&&e.includes("e")}function gt(r){var e=String(r);if(Sr(r)){var t=Number(e.slice(e.indexOf("e-")+2)),n=e.match(/\.(\d+)/);return n!=null&&n[1]&&(t+=n[1].length),t}return e.includes(".")&&nn(e)?e.length-e.indexOf(".")-1:0}function rn(r){var e=String(r);if(Sr(r)){if(r>Number.MAX_SAFE_INTEGER)return String(br()?BigInt(r).toString():Number.MAX_SAFE_INTEGER);if(r<Number.MIN_SAFE_INTEGER)return String(br()?BigInt(r).toString():Number.MIN_SAFE_INTEGER);e=r.toFixed(gt(e))}return ht(e).fullStr}function nn(r){return typeof r=="number"?!Number.isNaN(r):r?/^\s*-?\d+(\.\d+)?\s*$/.test(r)||/^\s*-?\d+\.\s*$/.test(r)||/^\s*-?\.\d+\s*$/.test(r):!1}var qn=function(){function r(e){if(qt(this,r),me(this,"origin",""),me(this,"negative",void 0),me(this,"integer",void 0),me(this,"decimal",void 0),me(this,"decimalLen",void 0),me(this,"empty",void 0),me(this,"nan",void 0),tn(e)){this.empty=!0;return}if(this.origin=String(e),e==="-"||Number.isNaN(e)){this.nan=!0;return}var t=e;if(Sr(t)&&(t=Number(t)),t=typeof t=="string"?t:rn(t),nn(t)){var n=ht(t);this.negative=n.negative;var a=n.trimStr.split(".");this.integer=BigInt(a[0]);var o=a[1]||"0";this.decimal=BigInt(o),this.decimalLen=o.length}else this.nan=!0}return Gt(r,[{key:"getMark",value:function(){return this.negative?"-":""}},{key:"getIntegerStr",value:function(){return this.integer.toString()}},{key:"getDecimalStr",value:function(){return this.decimal.toString().padStart(this.decimalLen,"0")}},{key:"alignDecimal",value:function(t){var n="".concat(this.getMark()).concat(this.getIntegerStr()).concat(this.getDecimalStr().padEnd(t,"0"));return BigInt(n)}},{key:"negate",value:function(){var t=new r(this.toString());return t.negative=!t.negative,t}},{key:"cal",value:function(t,n,a){var o=Math.max(this.getDecimalStr().length,t.getDecimalStr().length),u=this.alignDecimal(o),l=t.alignDecimal(o),c=n(u,l).toString(),f=a(o),d=ht(c),s=d.negativeStr,h=d.trimStr,v="".concat(s).concat(h.padStart(f+1,"0"));return new r("".concat(v.slice(0,-f),".").concat(v.slice(-f)))}},{key:"add",value:function(t){if(this.isInvalidate())return new r(t);var n=new r(t);return n.isInvalidate()?this:this.cal(n,function(a,o){return a+o},function(a){return a})}},{key:"multi",value:function(t){var n=new r(t);return this.isInvalidate()||n.isInvalidate()?new r(NaN):this.cal(n,function(a,o){return a*o},function(a){return a*2})}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return this.nan}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(t){return this.toString()===(t==null?void 0:t.toString())}},{key:"lessEquals",value:function(t){return this.add(t.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.isNaN()?NaN:Number(this.toString())}},{key:"toString",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return t?this.isInvalidate()?"":ht("".concat(this.getMark()).concat(this.getIntegerStr(),".").concat(this.getDecimalStr())).fullStr:this.origin}}]),r}(),Gn=function(){function r(e){if(qt(this,r),me(this,"origin",""),me(this,"number",void 0),me(this,"empty",void 0),tn(e)){this.empty=!0;return}this.origin=String(e),this.number=Number(e)}return Gt(r,[{key:"negate",value:function(){return new r(-this.toNumber())}},{key:"add",value:function(t){if(this.isInvalidate())return new r(t);var n=Number(t);if(Number.isNaN(n))return this;var a=this.number+n;if(a>Number.MAX_SAFE_INTEGER)return new r(Number.MAX_SAFE_INTEGER);if(a<Number.MIN_SAFE_INTEGER)return new r(Number.MIN_SAFE_INTEGER);var o=Math.max(gt(this.number),gt(n));return new r(a.toFixed(o))}},{key:"multi",value:function(t){var n=Number(t);if(this.isInvalidate()||Number.isNaN(n))return new r(NaN);var a=this.number*n;if(a>Number.MAX_SAFE_INTEGER)return new r(Number.MAX_SAFE_INTEGER);if(a<Number.MIN_SAFE_INTEGER)return new r(Number.MIN_SAFE_INTEGER);var o=Math.max(gt(this.number),gt(n));return new r(a.toFixed(o))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return Number.isNaN(this.number)}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(t){return this.toNumber()===(t==null?void 0:t.toNumber())}},{key:"lessEquals",value:function(t){return this.add(t.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.number}},{key:"toString",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return t?this.isInvalidate()?"":rn(this.number):this.origin}}]),r}();function jn(r){return br()?new qn(r):new Gn(r)}function Un(r,e,t){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(r==="")return"";var a=ht(r),o=a.negativeStr,u=a.integerStr,l=a.decimalStr,c="".concat(e).concat(l),f="".concat(o).concat(u);if(t>=0){var d=Number(l[t]);if(d>=5&&!n){var s=jn(r).add("".concat(o,"0.").concat("0".repeat(t)).concat(10-d));return Un(s.toString(),e,t,n)}return t===0?f:"".concat(f).concat(e).concat(l.padEnd(t,"0").slice(0,t))}return c===".0"?f:"".concat(f).concat(c)}function ha(r){var e=i.createContext(void 0),t=function(a){var o=a.value,u=a.children,l=i.useRef(o);l.current=o;var c=i.useState(function(){return{getValue:function(){return l.current},listeners:new Set}}),f=R(c,1),d=f[0];return q(function(){yr.unstable_batchedUpdates(function(){d.listeners.forEach(function(s){s(o)})})},[o]),i.createElement(e.Provider,{value:d},u)};return{Context:e,Provider:t,defaultValue:r}}function Ca(r,e){var t=_e(typeof e=="function"?e:function(s){if(e===void 0)return s;if(!Array.isArray(e))return s[e];var h={};return e.forEach(function(v){h[v]=s[v]}),h}),n=i.useContext(r==null?void 0:r.Context),a=n||{},o=a.listeners,u=a.getValue,l=i.useRef();l.current=t(n?u():r==null?void 0:r.defaultValue);var c=i.useState({}),f=R(c,2),d=f[1];return q(function(){if(!n)return;function s(h){var v=t(h);dn(l.current,v,!0)||d({})}return o.add(s),function(){o.delete(s)}},[n]),l.current}var an=i.createContext(0);function Qn(){return i.useContext(an)}function ba(r,e){var t=yt(r),n=function(o,u){var l=t?{ref:u}:{},c=i.useRef(0),f=i.useRef(o);return(!e||e(f.current,o))&&(c.current+=1),f.current=o,i.createElement(an.Provider,{value:c.current},i.createElement(r,ge({},o,l)))};return t?i.forwardRef(n):n}function ya(r,e){var t=yt(r),n=function(o,u){var l=t?{ref:u}:{};return Qn(),i.createElement(r,ge({},o,l))};return t?i.memo(i.forwardRef(n),e):i.memo(n,e)}function Jn(r){var e=window.innerWidth||document.documentElement.clientWidth,t=window.innerHeight||document.documentElement.clientHeight,n=r.getBoundingClientRect(),a=n.top,o=n.right,u=n.bottom,l=n.left;return a>=0&&l>=0&&o<=e&&u<=t}function Kn(r,e,t){var n;return(n=t??e)!==null&&n!==void 0?n:r===null?"center":"bottom"}function Zn(r,e,t,n){var a=i.useState(void 0),o=R(a,2),u=o[0],l=o[1];q(function(){var m=typeof r=="function"?r():r;l(m||null)});var c=i.useState(null),f=R(c,2),d=f[0],s=f[1],h=_e(function(){if(u){!Jn(u)&&e&&u.scrollIntoView(n);var m=u.getBoundingClientRect(),C=m.left,y=m.top,N=m.width,g=m.height,w={left:C,top:y,width:N,height:g,radius:0};s(function(k){return JSON.stringify(k)!==JSON.stringify(w)?w:k})}else s(null)});q(function(){return h(),window.addEventListener("resize",h),function(){window.removeEventListener("resize",h)}},[u,e,h]);var v=i.useMemo(function(){if(!d)return d;var m=(t==null?void 0:t.offset)||6,C=(t==null?void 0:t.radius)||2;return{left:d.left-m,top:d.top-m,width:d.width+m*2,height:d.height+m*2,radius:C}},[d,t]);return[v,u]}var zt={fill:"transparent",pointerEvents:"auto"},Xn=function(e){var t=e.prefixCls,n=e.rootClassName,a=e.pos,o=e.showMask,u=e.style,l=u===void 0?{}:u,c=e.fill,f=c===void 0?"rgba(0,0,0,0.5)":c,d=e.open,s=e.animated,h=e.zIndex,v=Gr(),m="".concat(t,"-mask-").concat(v),C=jt(s)==="object"?s==null?void 0:s.placeholder:s;return E.createElement(Ut,{open:d,autoLock:!0},E.createElement("div",{className:ie("".concat(t,"-mask"),n),style:I({position:"fixed",left:0,right:0,top:0,bottom:0,zIndex:h,pointerEvents:"none"},l)},o?E.createElement("svg",{style:{width:"100%",height:"100%"}},E.createElement("defs",null,E.createElement("mask",{id:m},E.createElement("rect",{x:"0",y:"0",width:"100vw",height:"100vh",fill:"white"}),a&&E.createElement("rect",{x:a.left,y:a.top,rx:a.radius,width:a.width,height:a.height,fill:"black",className:C?"".concat(t,"-placeholder-animated"):""}))),E.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:f,mask:"url(#".concat(m,")")}),a&&E.createElement(E.Fragment,null,E.createElement("rect",ge({},zt,{x:"0",y:"0",width:"100%",height:a.top})),E.createElement("rect",ge({},zt,{x:"0",y:"0",width:a.left,height:"100%"})),E.createElement("rect",ge({},zt,{x:"0",y:a.top+a.height,width:"100%",height:"calc(100vh - ".concat(a.top+a.height,"px)")})),E.createElement("rect",ge({},zt,{x:a.left+a.width,y:"0",width:"calc(100vw - ".concat(a.left+a.width,"px)"),height:"100%"})))):null))},Yn=[0,0],Fr={left:{points:["cr","cl"],offset:[-8,0]},right:{points:["cl","cr"],offset:[8,0]},top:{points:["bc","tc"],offset:[0,-8]},bottom:{points:["tc","bc"],offset:[0,8]},topLeft:{points:["bl","tl"],offset:[0,-8]},leftTop:{points:["tr","tl"],offset:[-8,0]},topRight:{points:["br","tr"],offset:[0,-8]},rightTop:{points:["tl","tr"],offset:[8,0]},bottomRight:{points:["tr","br"],offset:[0,8]},rightBottom:{points:["bl","br"],offset:[8,0]},bottomLeft:{points:["tl","bl"],offset:[0,8]},leftBottom:{points:["br","bl"],offset:[-8,0]}};function on(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e={};return Object.keys(Fr).forEach(function(t){e[t]=I(I({},Fr[t]),{},{autoArrow:r,targetOffset:Yn})}),e}on();function ea(r){var e=r.prefixCls,t=r.current,n=r.total,a=r.title,o=r.description,u=r.onClose,l=r.onPrev,c=r.onNext,f=r.onFinish,d=r.className;return i.createElement("div",{className:ie("".concat(e,"-content"),d)},i.createElement("div",{className:"".concat(e,"-inner")},i.createElement("button",{type:"button",onClick:u,"aria-label":"Close",className:"".concat(e,"-close")},i.createElement("span",{className:"".concat(e,"-close-x")},"×")),i.createElement("div",{className:"".concat(e,"-header")},i.createElement("div",{className:"".concat(e,"-title")},a)),i.createElement("div",{className:"".concat(e,"-description")},o),i.createElement("div",{className:"".concat(e,"-footer")},i.createElement("div",{className:"".concat(e,"-sliders")},n>1?Wt(Array.from({length:n}).keys()).map(function(s,h){return i.createElement("span",{key:s,className:h===t?"active":""})}):null),i.createElement("div",{className:"".concat(e,"-buttons")},t!==0?i.createElement("button",{className:"".concat(e,"-prev-btn"),onClick:l},"Prev"):null,t===n-1?i.createElement("button",{className:"".concat(e,"-finish-btn"),onClick:f},"Finish"):i.createElement("button",{className:"".concat(e,"-next-btn"),onClick:c},"Next")))))}var ta=function(e){var t=e.current,n=e.renderPanel;return i.createElement(i.Fragment,null,typeof n=="function"?n(e,t):i.createElement(ea,e))},ra=["prefixCls","steps","defaultCurrent","current","onChange","onClose","onFinish","open","mask","arrow","rootClassName","placement","renderPanel","gap","animated","scrollIntoViewOptions","zIndex"],na={left:"50%",top:"50%",width:1,height:1},Sa=function(e){var t=e.prefixCls,n=t===void 0?"rc-tour":t,a=e.steps,o=a===void 0?[]:a,u=e.defaultCurrent,l=e.current,c=e.onChange,f=e.onClose,d=e.onFinish,s=e.open,h=e.mask,v=h===void 0?!0:h,m=e.arrow,C=m===void 0?!0:m,y=e.rootClassName,N=e.placement,g=e.renderPanel,w=e.gap,k=e.animated,x=e.scrollIntoViewOptions,$=x===void 0?!0:x,W=e.zIndex,A=W===void 0?1001:W,L=Ot(e,ra),S=i.useRef(),H=Mr(0,{value:l,defaultValue:u}),P=R(H,2),V=P[0],ee=P[1],te=Mr(void 0,{value:s,postState:function(U){return V<0||V>=o.length?!1:U??!0}}),D=R(te,2),T=D[0],ue=D[1],Se=i.useRef(T);q(function(){T&&!Se.current&&ee(0),Se.current=T},[T]);var G=o[V]||{},re=G.target,Ee=G.placement,le=G.style,K=G.arrow,Ne=G.className,j=G.mask,Z=G.scrollIntoViewOptions,he=T&&(j??v),se=Z??$,Ie=Zn(re,s,w,se),Me=R(Ie,2),Ce=Me[0],X=Me[1],_=Kn(X,N,Ee),ce=X?typeof K>"u"?C:K:!1,ne=jt(ce)==="object"?ce.pointAtCenter:!1;q(function(){var ve;(ve=S.current)===null||ve===void 0||ve.forceAlign()},[ne,V]);var fe=function(U){ee(U),c==null||c(U)};if(X===void 0)return null;var be=function(){ue(!1),f==null||f(V)},ye=function(){return i.createElement(ta,ge({arrow:ce,key:"content",prefixCls:n,total:o.length,renderPanel:g,onPrev:function(){fe(V-1)},onNext:function(){fe(V+1)},onClose:be,current:V,onFinish:function(){be(),d==null||d()}},o[V]))},we=typeof he=="boolean"?he:!!he,Re=typeof he=="boolean"?void 0:he,at=function(U){return U||X||document.body};return i.createElement(i.Fragment,null,i.createElement(Xn,{zIndex:A,prefixCls:n,pos:Ce,showMask:we,style:Re==null?void 0:Re.style,fill:Re==null?void 0:Re.color,open:T,animated:k,rootClassName:y}),i.createElement($n,ge({builtinPlacements:on(ne)},L,{ref:S,popupStyle:le,popupPlacement:_,popupVisible:T,popupClassName:ie(y,Ne),prefixCls:n,popup:ye,forceRender:!1,destroyPopupOnHide:!0,zIndex:A,getTriggerDOMNode:at,arrow:!!ce}),i.createElement(Ut,{open:T,autoLock:!0},i.createElement("div",{className:ie(y,"".concat(n,"-target-placeholder")),style:I(I({},Ce||na),{},{position:"fixed",pointerEvents:"none"})}))))},aa=function(r){zr(t,r);var e=Wr(t);function t(){return qt(this,t),e.apply(this,arguments)}return Gt(t,[{key:"render",value:function(){return this.props.children}}]),t}(E.Component),oa={subtree:!0,childList:!0,attributeFilter:["style","class"]},Ea=function(e){var t=e.children,n=e.options,a=n===void 0?oa:n,o=e.onMutate,u=o===void 0?function(){}:o,l=_e(u),c=i.useRef(null),f=E.useRef(null),d=E.isValidElement(t)&&yt(t),s=d?t==null?void 0:t.ref:null,h=E.useMemo(function(){return qr(s,f)},[s,f]);return i.useEffect(function(){if(Ct()){var v,m=Rr(s==null?void 0:s.current)||Rr(c==null?void 0:c.current);return m&&"MutationObserver"in window&&(v=new MutationObserver(l),v.observe(m,a)),function(){var C,y;(C=v)===null||C===void 0||C.takeRecords(),(y=v)===null||y===void 0||y.disconnect()}}},[a,s]),t?E.createElement(aa,{ref:c},d?E.cloneElement(t,{ref:h}):t):null};export{Hr as C,Ea as M,Ut as P,Sa as T,ga as a,Vn as b,$n as c,gt as d,Un as e,ha as f,jn as g,Ca as h,ba as m,rn as n,ya as r,ht as t,Qn as u,nn as v};
